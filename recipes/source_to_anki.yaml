- generate_guids_in_csvs:
    source:
    - src/data/person.csv
    - src/data/event.csv
    - src/data/qa.csv
    - src/data/cloze.csv
    columns:
    - guid
- build_parts:
  - note_models_from_yaml_part:
      part_id: Ultimate History | Person
      file: src/note_models/person/person.yaml
  - note_models_from_yaml_part:
      part_id: Ultimate History | Event
      file: src/note_models/event/event.yaml
  - note_models_from_yaml_part:
      part_id: Ultimate History | QA
      file: src/note_models/qa/qa.yaml
  - note_models_from_yaml_part:
      part_id: Ultimate History | Cloze
      file: src/note_models/cloze/cloze.yaml
  - headers_from_yaml_part:
      - part_id: deck_headers
        file: src/headers/header1.yaml
        override:
          deck_description_html_file: src/headers/description.html
  - notes_from_csvs:
      part_id: deck_notes
      save_to_file: null
      file_mappings:
      - file: src/data/person.csv
        note_model: Ultimate History | Person
      - file: src/data/event.csv
        note_model: Ultimate History | Event
      - file: src/data/qa.csv
        note_model: Ultimate History | QA
      - file: src/data/cloze.csv
        note_model: Ultimate History | Cloze
      note_model_mappings:
      - note_models:
        - Ultimate History | Person
        - Ultimate History | Event
        - Ultimate History | QA
        - Ultimate History | Cloze
  - media_group_from_folder:
      part_id: deck_media
      source: src/media/
      recursive: true
- generate_crowd_anki:
    folder: build/Ultimate_History/
    notes:
      part_id: deck_notes
    note_models:
      parts:
      - part_id: Ultimate History | Person
      - part_id: Ultimate History | Event
      - part_id: Ultimate History | QA
      - part_id: Ultimate History | Cloze
    headers: deck_headers
    media:
      parts:
      - deck_media
